parameters:
    darvin_menu.builder.abstract.class: Darvin\MenuBundle\Builder\Builder

services:
    darvin_menu.builder.abstract:
        class:    '%darvin_menu.builder.abstract.class%'
        abstract: true
        arguments:
            - '@doctrine.orm.entity_manager'
            - '@darvin_utils.orm.entity_resolver'
            - '@darvin_menu.item_factory.pool'
            - '@darvin_utils.locale.provider'
            - '@darvin_utils.mapping.metadata_factory'
            - '@property_accessor'
            - '@darvin_menu.slug_map.object_loader'
            - '@stof_doctrine_extensions.listener.sortable'
            - '%darvin_menu.entities%'

    darvin_menu.builder.runtime:
        parent: darvin_menu.builder.abstract
        tags:
            - { name: knp_menu.menu_builder, method: buildMenu, alias: darvin_menu }
