{% import _self as that %}

{% macro list(item, matcher) %}

    {% import _self as that %}

    {% for child in item.children %}
        {% if child.uri and not matcher.isCurrent(child) %}
            <a href="{{ child.uri }}">{{ child.label }}</a>
        {% else %}
            <span>{{ child.label }}</span>
        {% endif %}
        {{ that.list(child, matcher) }}
    {% endfor %}
{% endmacro %}

{{ that.list(item, matcher) }}
